#!/bin/bash -eu
set -o pipefail

source "$(dirname "$(readlink -f "${BASH_SOURCE[0]}")")/x-lib.sh"

file_ext=.yaml
#-------------------------------------------------------------------------------
ask "tmp.a" A
tmp_a=$ASK_BUF

ask "tmp.b" 123
tmp_b=$ASK_BUF
#-------------------------------------------------------------------------------
y=$(cat <<-EOT
	tmp:
	  a: "$tmp_a"
	  b: $tmp_b
	EOT
    )
#-------------------------------------------------------------------------------
echo "$y"
#-------------------------------------------------------------------------------
ask "file [$file_ext]" conf
file=$ASK_BUF
#-------------------------------------------------------------------------------
echo "$y" > "$file$file_ext"
#-------------------------------------------------------------------------------
